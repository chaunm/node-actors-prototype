ZNP Actor
=======================

This actor works with ZNP devices by using following mailboxes

## Requests
For serving requests from other actors
### Add devices
**mailbox:** `request/add_device`
**message:**
```javascript
{
	from, // sender's guid, added by Message Broker automatically  
  id, // generated & maintained by the actor (for callbacks)
  duration: <int, time in seconds>
}
```
**response**
Upon finishing these requests, it should send a response to the sender's 'response' mailbox:
```js
{
	from, // znp's guid, added by Message Broker automatically
  request, // the original request here
  response: {
    status: "actor.status.success or actor.status.failed",
    error: "describing errors if have any"
  }
}
```
### Remove devices
**mailbox:** `request/remove_device`
**message:**
```javascript
{
  id, // generated & maintained by the actor (for callbacks)  
  deviceId: <string>
}
```
**response**
Upon finishing these requests, it should send a response to the sender's 'response' mailbox:
```js
{
	from, // znp's guid, added by Message Broker automatically
  request, // the original request here
  response: {
    status: "actor.status.success or actor.status.failed",
    error: "actor.error.code" // code describing the error (if any)
  }
}
```
## Response
This mailbox contains response from other actors
**mailbox:** `response`
**message:**  messages should conform the format:
```js
{
	from, // sender's guid, added by Message Broker automatically
  request, // the original request here
  response: {
    // any key-value
  }
}
```
## Events
### New device is added
**mailbox:** `event/device_added`
**message**: messages should conform the format
```js
{
	from, // znp's guid, added by Message Broker automatically
  macId,
  endpoint,
  deviceClass,
  protocol: "zigbee"
}
```
### Device is removed
**mailbox:** `event/device_removed`
**message**: messages should conform the format
```js
{
	from, // znp's guid, added by Message Broker automatically
  macId,
  protocol: "zigbee"
}
```
### Device's error
**mailbox:** `event/device_error`
**message**: messages should conform the format
```js
{
	from, // znp's guid, added by Message Broker automatically
  macId,
  protocol: "zigbee",
  error: "actor.error.code" // code describing the error (if any)  
}
```
### Device's data
**mailbox:** `event/device_data`
**message**: messages should conform the format
```js
{
	from, // znp's guid, added by Message Broker automatically
  macId,
  endpoint,
  protocol: "zigbee",
  payload //json object
}
```
